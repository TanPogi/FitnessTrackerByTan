<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness Tracker by Mark Jan</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-heartbeat"></i>Fitness Tracker by Tan</h1>
            <button class="theme-toggle" id="themeToggle">
                <span id="themeIcon">üåô</span> Dark Mode
            </button>
        </header>

        <div class="tabs">
            <button class="tab-button active" onclick="openTab('bodyComposition')">
                <i class="fas fa-user"></i> Body Composition
            </button>
            <button class="tab-button" onclick="openTab('energyMetrics')">
                <i class="fas fa-bolt"></i> Energy Metrics
            </button>
            <button class="tab-button" onclick="openTab('nutritionalNeeds')">
                <i class="fas fa-utensils"></i> Nutritional Needs
            </button>
        </div>

        <div id="bodyComposition" class="tab-content active">
            <h2><i class="fas fa-calculator"></i>Body Composition Calculators</h2>
            
            <div class="input-group">
                <label for="weight">Weight (kg)</label>
                <i class="fas fa-weight"></i>
                <input type="number" id="weight" placeholder="Enter your weight in kilograms" min="30" max="200">
            </div>
            
            <div class="input-group">
                <label for="height">Height (cm)</label>
                <i class="fas fa-ruler-vertical"></i>
                <input type="number" id="height" placeholder="Enter your height in centimeters" min="120" max="250">
            </div>
            
            <div class="input-group">
                <label for="age">Age</label>
                <i class="fas fa-birthday-cake"></i>
                <input type="number" id="age" placeholder="Enter your age" min="15" max="100">
            </div>
            
            <div class="input-group">
                <label for="gender">Gender</label>
                <i class="fas fa-venus-mars"></i>
                <select id="gender">
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="waist">Waist Circumference (cm)</label>
                <i class="fas fa-ruler-combined"></i>
                <input type="number" id="waist" placeholder="Optional for WHR/WtHR">
            </div>
            
            <div class="input-group">
                <label for="hip">Hip Circumference (cm)</label>
                <i class="fas fa-ruler-combined"></i>
                <input type="number" id="hip" placeholder="Optional for WHR">
            </div>
            
            <button class="calculate" onclick="calculateBodyComposition()">
                <i class="fas fa-calculate"></i> Calculate
            </button>
            
            <div id="bodyCompositionResults" class="results" style="display: none;">
                <h3><i class="fas fa-chart-line"></i>Your Body Composition</h3>
                <div class="metrics-summary">
                    <div class="metric-card">
                        <div class="metric-label">BMI</div>
                        <div class="metric-value" id="bmi-value">0.0</div>
                        <div class="metric-label">Body Mass Index</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Body Fat</div>
                        <div class="metric-value" id="fat-value">0%</div>
                        <div class="metric-label">Percentage</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Lean Mass</div>
                        <div class="metric-value" id="lean-value">0 kg</div>
                        <div class="metric-label">Muscle & Bone</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Fat Mass</div>
                        <div class="metric-value" id="fat-mass-value">0 kg</div>
                        <div class="metric-label">Adipose Tissue</div>
                    </div>
                </div>
                <div id="bodyResultsContent"></div>
            </div>
        </div>

        <div id="energyMetrics" class="tab-content">
            <h2><i class="fas fa-fire"></i>Energy & Calorie Metrics</h2>
            
            <div class="input-group">
                <label for="activityLevel">Activity Level</label>
                <i class="fas fa-running"></i>
                <select id="activityLevel">
                    <option value="1.2">Sedentary (little or no exercise)</option>
                    <option value="1.375">Lightly active (light exercise 1-3 days/week)</option>
                    <option value="1.55">Moderately active (moderate exercise 3-5 days/week)</option>
                    <option value="1.725">Very active (hard exercise 6-7 days/week)</option>
                    <option value="1.9">Super active (very hard exercise & physical job)</option>
                </select>
            </div>
            
            <div class="input-group">
                <label for="goal">Weight Goal</label>
                <i class="fas fa-bullseye"></i>
                <select id="goal">
                    <option value="maintain">Maintain weight</option>
                    <option value="lose">Lose weight</option>
                    <option value="gain">Gain weight</option>
                </select>
            </div>
            
            <button class="calculate" onclick="calculateEnergyMetrics()">
                <i class="fas fa-calculator"></i> Calculate
            </button>
            
            <div id="energyMetricsResults" class="results" style="display: none;">
                <h3><i class="fas fa-chart-pie"></i>Your Energy Metrics</h3>
                <div class="metrics-summary">
                    <div class="metric-card">
                        <div class="metric-label">BMR</div>
                        <div class="metric-value" id="bmr-value">0</div>
                        <div class="metric-label">Base Metabolic Rate</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">TDEE</div>
                        <div class="metric-value" id="tdee-value">0</div>
                        <div class="metric-label">Daily Energy Expenditure</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Target</div>
                        <div class="metric-value" id="target-value">0</div>
                        <div class="metric-label">Daily Calories</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Goal</div>
                        <div class="metric-value" id="goal-value">-</div>
                        <div class="metric-label">Weight Target</div>
                    </div>
                </div>
                <div id="energyResultsContent"></div>
            </div>
        </div>

        <div id="nutritionalNeeds" class="tab-content">
            <h2><i class="fas fa-utensils"></i>Nutritional Needs</h2>
            
            <div class="input-group">
                <label for="dietPreference">Diet Preference</label>
                <i class="fas fa-clipboard-list"></i>
                <select id="dietPreference">
                    <option value="balanced">Balanced</option>
                    <option value="highProtein">High Protein</option>
                    <option value="lowCarb">Low Carb</option>
                    <option value="highCarb">High Carb</option>
                </select>
            </div>
            
            <button class="calculate" onclick="calculateNutritionalNeeds()">
                <i class="fas fa-calculator"></i> Calculate
            </button>
            
            <div id="nutritionalNeedsResults" class="results" style="display: none;">
                <h3><i class="fas fa-chart-bar"></i>Your Nutritional Needs</h3>
                <div class="metrics-summary">
                    <div class="metric-card">
                        <div class="metric-label">Protein</div>
                        <div class="metric-value" id="protein-value">0g</div>
                        <div class="metric-label">Daily Intake</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Carbs</div>
                        <div class="metric-value" id="carbs-value">0g</div>
                        <div class="metric-label">Daily Intake</div>
                    </div>
                                        <div class="metric-card">
                        <div class="metric-label">Fats</div>
                        <div class="metric-value" id="fats-value">0g</div>
                        <div class="metric-label">Daily Intake</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-label">Water</div>
                        <div class="metric-value" id="water-value">0L</div>
                        <div class="metric-label">Daily Intake</div>
                    </div>
                </div>
                <div id="nutritionResultsContent"></div>
            </div>
        </div>

        <footer>
    <p>
        Created by <strong>Mark Jan Manlangit </strong>
        <span style="display: inline-block; margin: 0 5px;">üë®üèª‚Äçüíª</span> 
    </p>
</footer>
    </div>

    <script>
        // Theme toggle functionality
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        
        // Check for saved theme preference or use preferred color scheme
        const savedTheme = localStorage.getItem('theme') || 
                         (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        
        if (savedTheme === 'dark') {
            document.body.classList.add('dark-mode');
            themeIcon.textContent = '‚òÄÔ∏è';
            themeToggle.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
        }
        
        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
                localStorage.setItem('theme', 'dark');
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
                localStorage.setItem('theme', 'light');
            }
        });
        
        // Tab functionality
        function openTab(tabName) {
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
        }
        
        // Calculation functions
        function calculateBodyComposition() {
            const weight = parseFloat(document.getElementById('weight').value);
            const height = parseFloat(document.getElementById('height').value);
            const age = parseInt(document.getElementById('age').value);
            const gender = document.getElementById('gender').value;
            const waist = parseFloat(document.getElementById('waist').value) || 0;
            const hip = parseFloat(document.getElementById('hip').value) || 0;
            
            if (!weight || !height || !age) {
                alert('Please enter weight, height, and age to calculate.');
                return;
            }
            
            // BMI Calculation
            const heightMeters = height / 100;
            const bmi = weight / (heightMeters * heightMeters);
            
            // BMI Classification
            let bmiCategory;
            let bmiInterpretation;
            if (bmi < 16) {
                bmiCategory = "Severely Underweight";
                bmiInterpretation = "danger";
            } else if (bmi >= 16 && bmi <= 16.9) {
                bmiCategory = "Very Underweight";
                bmiInterpretation = "danger";
            } else if (bmi >= 17 && bmi <= 18.4) {
                bmiCategory = "Underweight";
                bmiInterpretation = "warning";
            } else if (bmi >= 18.5 && bmi <= 24.9) {
                bmiCategory = "Normal (Healthy Weight)";
                bmiInterpretation = "success";
            } else if (bmi >= 25 && bmi <= 29.9) {
                bmiCategory = "Overweight";
                bmiInterpretation = "warning";
            } else if (bmi >= 30 && bmi <= 34.9) {
                bmiCategory = "Obese Class I (Moderate)";
                bmiInterpretation = "danger";
            } else if (bmi >= 35 && bmi <= 39.9) {
                bmiCategory = "Obese Class II (Severe)";
                bmiInterpretation = "danger";
            } else {
                bmiCategory = "Obese Class III (Very Severe)";
                bmiInterpretation = "danger";
            }
            
            // Body Fat Percentage (Deurenberg formula)
            let bodyFatPercentage;
            if (gender === 'male') {
                bodyFatPercentage = (1.20 * bmi) + (0.23 * age) - 16.2;
            } else {
                bodyFatPercentage = (1.20 * bmi) + (0.23 * age) - 5.4;
            }
            
            // Lean Body Mass
            const lbm = weight * (1 - (bodyFatPercentage / 100));
            
            // Fat Mass
            const fm = weight - lbm;
            
            // Waist-to-Hip Ratio
            let whr = 0;
            if (waist > 0 && hip > 0) {
                whr = waist / hip;
            }
            
            // Waist-to-Height Ratio
            let wthr = 0;
            if (waist > 0) {
                wthr = waist / height;
            }
            
            // Body Surface Area (DuBois formula)
            const bsa = 0.007184 * Math.pow(height, 0.725) * Math.pow(weight, 0.425);
            
            // Update metric cards
            document.getElementById('bmi-value').textContent = bmi.toFixed(1);
            document.getElementById('fat-value').textContent = bodyFatPercentage.toFixed(1) + '%';
            document.getElementById('lean-value').textContent = lbm.toFixed(1) + ' kg';
            document.getElementById('fat-mass-value').textContent = fm.toFixed(1) + ' kg';
            
            // Add or update BMI category to the card
            const bmiCard = document.querySelector('.metric-card:nth-child(1)');
            let bmiCategoryDiv = bmiCard.querySelector('.bmi-category');
            if (bmiCategoryDiv) {
                bmiCategoryDiv.textContent = bmiCategory;
                bmiCategoryDiv.className = 'bmi-category ' + bmiInterpretation;
            } else {
                bmiCategoryDiv = document.createElement('div');
                bmiCategoryDiv.className = 'bmi-category ' + bmiInterpretation;
                bmiCategoryDiv.textContent = bmiCategory;
                bmiCard.appendChild(bmiCategoryDiv);
            }
            
            // Display results
            let resultsHTML = `
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-weight"></i>BMI</span>
                    <span class="result-value">${bmi.toFixed(1)} <span class="bmi-category ${bmiInterpretation}">${bmiCategory}</span></span>
                </div>
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-percentage"></i>Body Fat Percentage</span>
                    <span class="result-value">${bodyFatPercentage.toFixed(1)}%</span>
                </div>
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-dumbbell"></i>Lean Body Mass</span>
                    <span class="result-value">${lbm.toFixed(1)} kg</span>
                </div>
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-bacon"></i>Fat Mass</span>
                    <span class="result-value">${fm.toFixed(1)} kg</span>
                </div>`;
                
            if (waist > 0 && hip > 0) {
                resultsHTML += `
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-ruler-combined"></i>Waist-to-Hip Ratio</span>
                    <span class="result-value">${whr.toFixed(2)}</span>
                </div>`;
            }
            
            if (waist > 0) {
                resultsHTML += `
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-ruler-vertical"></i>Waist-to-Height Ratio</span>
                    <span class="result-value">${wthr.toFixed(2)}</span>
                </div>`;
            }
            
            resultsHTML += `
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-ruler-horizontal"></i>Body Surface Area</span>
                    <span class="result-value">${bsa.toFixed(2)} m¬≤</span>
                </div>`;
            
            document.getElementById('bodyResultsContent').innerHTML = resultsHTML;
            document.getElementById('bodyCompositionResults').style.display = 'block';
            
            // Save data for other calculations
            localStorage.setItem('weight', weight);
            localStorage.setItem('height', height);
            localStorage.setItem('age', age);
            localStorage.setItem('gender', gender);
        }
        
        function calculateEnergyMetrics() {
            const weight = parseFloat(localStorage.getItem('weight'));
            const height = parseFloat(localStorage.getItem('height'));
            const age = parseInt(localStorage.getItem('age'));
            const gender = localStorage.getItem('gender');
            const activityLevel = parseFloat(document.getElementById('activityLevel').value);
            const goal = document.getElementById('goal').value;
            
            if (!weight || !height || !age) {
                alert('Please complete Body Composition first with weight, height, and age.');
                return;
            }
            
            // BMR Calculation (Mifflin-St Jeor Equation)
            let bmr;
            if (gender === 'male') {
                bmr = (10 * weight) + (6.25 * height) - (5 * age) + 5;
            } else {
                bmr = (10 * weight) + (6.25 * height) - (5 * age) - 161;
            }
            
            // TDEE
            const tdee = bmr * activityLevel;
            
            // Caloric needs based on goal
            let targetCalories = tdee;
            let goalText = "Maintenance";
            
            if (goal === "lose") {
                targetCalories = tdee - 500;
                goalText = "Weight Loss";
            } else if (goal === "gain") {
                targetCalories = tdee + 500;
                goalText = "Weight Gain";
            }
            
            // Update metric cards
            document.getElementById('bmr-value').textContent = bmr.toFixed(0);
            document.getElementById('tdee-value').textContent = tdee.toFixed(0);
            document.getElementById('target-value').textContent = targetCalories.toFixed(0);
            document.getElementById('goal-value').textContent = goalText;
            
            // Display results
            let resultsHTML = `
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-fire"></i>Basal Metabolic Rate (BMR)</span>
                    <span class="result-value">${bmr.toFixed(0)} kcal/day</span>
                </div>
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-chart-line"></i>Total Daily Energy Expenditure (TDEE)</span>
                    <span class="result-value">${tdee.toFixed(0)} kcal/day</span>
                </div>
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-bullseye"></i>Target Calories</span>
                    <span class="result-value">${targetCalories.toFixed(0)} kcal/day</span>
                </div>
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-tasks"></i>Goal</span>
                    <span class="result-value">${goalText}</span>
                </div>`;
            
            document.getElementById('energyResultsContent').innerHTML = resultsHTML;
            document.getElementById('energyMetricsResults').style.display = 'block';
            
            // Save TDEE for nutritional needs
            localStorage.setItem('tdee', tdee);
            localStorage.setItem('targetCalories', targetCalories);
        }
        
        function calculateNutritionalNeeds() {
            const weight = parseFloat(localStorage.getItem('weight'));
            const tdee = parseFloat(localStorage.getItem('tdee'));
            const targetCalories = parseFloat(localStorage.getItem('targetCalories')) || tdee;
            const dietPreference = document.getElementById('dietPreference').value;
            
            if (!weight || !tdee) {
                alert('Please complete Energy Metrics first.');
                return;
            }
            
            // Macronutrient distribution based on diet preference
            let proteinPercentage, fatPercentage, carbPercentage;
            
            switch(dietPreference) {
                case 'highProtein':
                    proteinPercentage = 0.35;
                    fatPercentage = 0.25;
                    carbPercentage = 0.40;
                    break;
                case 'lowCarb':
                    proteinPercentage = 0.30;
                    fatPercentage = 0.40;
                    carbPercentage = 0.30;
                    break;
                case 'highCarb':
                    proteinPercentage = 0.20;
                    fatPercentage = 0.20;
                    carbPercentage = 0.60;
                    break;
                default: // balanced
                    proteinPercentage = 0.25;
                    fatPercentage = 0.25;
                    carbPercentage = 0.50;
            }
            
            // Calculate grams
            const proteinGrams = (targetCalories * proteinPercentage) / 4;
            const fatGrams = (targetCalories * fatPercentage) / 9;
            const carbGrams = (targetCalories * carbPercentage) / 4;
            
            // Protein requirement based on weight
            const proteinReq = weight * 1.6; // Moderate activity level
            
            // Fiber requirement
            const fiberReq = weight > 0 ? Math.min(38, weight * 0.014) : 25; // g/day
            
            // Water intake recommendation
            const waterIntake = weight * 0.033; // liters/day
            
            // Update metric cards
            document.getElementById('protein-value').textContent = proteinGrams.toFixed(0) + 'g';
            document.getElementById('carbs-value').textContent = carbGrams.toFixed(0) + 'g';
            document.getElementById('fats-value').textContent = fatGrams.toFixed(0) + 'g';
            document.getElementById('water-value').textContent = waterIntake.toFixed(1) + 'L';
            
            // Display results
            let resultsHTML = `
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-drumstick-bite"></i>Protein</span>
                    <span class="result-value">${proteinGrams.toFixed(0)} g</span>
                </div>
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-bread-slice"></i>Carbohydrates</span>
                    <span class="result-value">${carbGrams.toFixed(0)} g</span>
                </div>
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-egg"></i>Fats</span>
                    <span class="result-value">${fatGrams.toFixed(0)} g</span>
                </div>
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-water"></i>Water Intake</span>
                    <span class="result-value">${waterIntake.toFixed(1)} L</span>
                </div>
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-carrot"></i>Fiber Requirement</span>
                    <span class="result-value">${fiberReq.toFixed(0)} g/day</span>
                </div>
                <div class="result-item">
                    <span class="result-label"><i class="fas fa-user-friends"></i>Protein Requirement</span>
                    <span class="result-value">${proteinReq.toFixed(0)} g/day</span>
                </div>`;
            
            document.getElementById('nutritionResultsContent').innerHTML = resultsHTML;
            document.getElementById('nutritionalNeedsResults').style.display = 'block';
        }

        // Load saved values if they exist
        window.addEventListener('DOMContentLoaded', () => {
            const savedWeight = localStorage.getItem('weight');
            const savedHeight = localStorage.getItem('height');
            const savedAge = localStorage.getItem('age');
            const savedGender = localStorage.getItem('gender');
            
            if (savedWeight) document.getElementById('weight').value = savedWeight;
            if (savedHeight) document.getElementById('height').value = savedHeight;
            if (savedAge) document.getElementById('age').value = savedAge;
            if (savedGender) document.getElementById('gender').value = savedGender;
        });
    </script>
</body>
</html>

